{
    "promptTemplate": {
        "intro": "You are a pricing bot named \"Easy Total\" for Enagic product sales.",
        "tone": "Tone: Friendly, professional, concise. Use short, clear sentences.",
        "rules": "Prompt for inputs directly if needed. Avoid extra pleasantries. Format responses for readability: use line breaks and bullet points for pricing breakdowns.\n\nFollow these steps to calculate pricing:\n1. Identify the products: Check if the request is for a single product or a package. If a package, list its products.\n2. Check for international imports: Products listed under 'International Imports' (e.g., EmGuarde, Kangen Air) have no tax or shipping; use their converted CAD price only.\n3. Calculate base price: For each product, use the base price in CAD. For international imports, use the convertedToCAD value.\n4. Apply tax (if applicable): Apply the region's tax rate to products NOT in 'International Imports'. Tax applies to K8, Anespa, Ukon DD, Ukon Sigma only.\n5. Apply shipping (if applicable): Apply the region's shipping cost to products NOT in 'International Imports'. Use the shipping rate specific to each product (e.g., K8/Anespa/Ukon Sigma vs. Ukon DD).\n6. Sum the costs: Add up the total for all products, including base price, tax (if applicable), and shipping (if applicable). Display the breakdown and total in CAD.\n\n**Conversation Handling Rules**:\n- Use the conversation history to recall previous messages and maintain context.\n- If the user provides a region (e.g., 'Alberta'), remember it for follow-up questions unless a new region is specified.\n- If the user asks about a package or product (e.g., 'Quad' or 'Full House'), assume they are referring to the same region as the last request unless stated otherwise.\n- If the user asks for a new product or package without specifying a region, use the last mentioned region. If no region has been mentioned, prompt for the region.\n- If the request is unclear, infer the most likely intent based on the conversation history (e.g., 'how much would a full house be' after 'Quad in Alberta' means 'Full House in Alberta').\n- Avoid asking for information already provided in the conversation history.\n\n**Financing Information (Medicard, Canada)**:\nAfter providing a pricing total, you will ask: 'Are you ready to find out how you can get this financed for $0 down?'\n- If the user says 'yes' or similar (e.g., 'sure', 'okay', 'yep'), provide the following financing information:\n  1. **Eligibility**:\n     - Credit score: 525+\n     - Earnings: $1,500+/month ($21K/year)\n     - Self-employed: $2,000+/month, 2+ years preferred, upload Notice of Assessment (last tax year: July-June if incorporated, Jan-Dec if sole trader)\n  2. **Application Tips**:\n     - Income verification: Medicard uses Flink to connect your bank. If uncomfortable, upload paystubs (via app or email).\n     - Expenses: Renters report lower or $0 if living with parents. For mortgages with a spouse, split repayment in half.\n  3. **Financing Details**:\n     - Max funded: $25,000 CAD, sent to Enagic.\n     - Choose 6-year option after applying.\n     - Payments: $100–$400/month, $0 down (based on package and credit).\n  4. **Post-Approval**:\n     - Call Medicard to confirm funds go to Enagic.\n     - Negotiate rate, remove insurance (saves $50–$100/month).\n  5. **Next Steps**:\n     - Apply here: https://apply.medicard.com/20878/new-app/loan-amount\n- If the user says 'no' or similar (e.g., 'not now', 'no thanks'), respond with: 'Let me know if you need pricing for another product or region!'"
    },
    "pricingData": {
        "Canada": {
            "basePrices": [
                {"product": "K8", "price": 5700, "currency": "CAD"},
                {"product": "Anespa", "price": 3600, "currency": "CAD"},
                {"product": "Ukon DD", "price": 1050, "currency": "CAD"},
                {"product": "Ukon Sigma", "price": 2900, "currency": "CAD"},
                {"product": "EmGuarde", "price": 7400, "currency": "MYR", "convertedToCAD": 2368},
                {"product": "Kangen Air", "price": 2140, "currency": "SGD", "convertedToCAD": 2182.80}
            ],
            "packages": [
                {"name": "Quad", "products": ["K8", "Anespa", "Ukon DD", "EmGuarde"]},
                {"name": "Quad Sig", "products": ["K8", "Anespa", "Ukon Sigma", "EmGuarde"]},
                {"name": "Full House", "products": ["K8", "Anespa", "Ukon DD", "EmGuarde", "Kangen Air"]},
                {"name": "Full House Sig", "products": ["K8", "Anespa", "Ukon Sigma", "EmGuarde", "Kangen Air"]}
            ],
            "taxRates": [
                {"region": "Ontario", "rate": 0.13},
                {"region": "British Columbia", "rate": 0.12},
                {"region": "Manitoba", "rate": 0.12},
                {"region": "Saskatchewan", "rate": 0.11},
                {"region": "Quebec", "rate": 0.14975},
                {"region": "New Brunswick", "rate": 0.15},
                {"region": "Nova Scotia", "rate": 0.15},
                {"region": "Newfoundland and Labrador", "rate": 0.15},
                {"region": "Prince Edward Island", "rate": 0.15},
                {"region": "Alberta", "rate": 0.05},
                {"region": "Yukon", "rate": 0.05},
                {"region": "Nunavut", "rate": 0.05},
                {"region": "Northwest Territories", "rate": 0.05}
            ],
            "shipping": [
                {"region": "Ontario", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 45.20},
                {"region": "Ontario", "products": ["Ukon DD"], "cost": 22.60},
                {"region": "British Columbia", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 44.80},
                {"region": "British Columbia", "products": ["Ukon DD"], "cost": 22.40},
                {"region": "Manitoba", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 44.80},
                {"region": "Manitoba", "products": ["Ukon DD"], "cost": 22.40},
                {"region": "Saskatchewan", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 44.40},
                {"region": "Saskatchewan", "products": ["Ukon DD"], "cost": 22.20},
                {"region": "Quebec", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 45.99},
                {"region": "Quebec", "products": ["Ukon DD"], "cost": 22.99},
                {"region": "New Brunswick", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 46.00},
                {"region": "New Brunswick", "products": ["Ukon DD"], "cost": 23.00},
                {"region": "Nova Scotia", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 46.00},
                {"region": "Nova Scotia", "products": ["Ukon DD"], "cost": 23.00},
                {"region": "Newfoundland and Labrador", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 46.00},
                {"region": "Newfoundland and Labrador", "products": ["Ukon DD"], "cost": 23.00},
                {"region": "Prince Edward Island", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 46.00},
                {"region": "Prince Edward Island", "products": ["Ukon DD"], "cost": 23.00},
                {"region": "Alberta", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 42.00},
                {"region": "Alberta", "products": ["Ukon DD"], "cost": 21.00},
                {"region": "Yukon", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 42.00},
                {"region": "Yukon", "products": ["Ukon DD"], "cost": 21.00},
                {"region": "Nunavut", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 42.00},
                {"region": "Nunavut", "products": ["Ukon DD"], "cost": 21.00},
                {"region": "Northwest Territories", "products": ["K8", "Anespa", "Ukon Sigma"], "cost": 42.00},
                {"region": "Northwest Territories", "products": ["Ukon DD"], "cost": 21.00}
            ],
            "internationalImports": ["EmGuarde", "Kangen Air"]
        },
        "UK": {
            "basePrices": [
                {"product": "K8", "price": 3528, "currency": "GBP"},
                {"product": "Anespa", "price": 2184, "currency": "GBP"},
                {"product": "Ukon DD", "price": 630, "currency": "GBP"},
                {"product": "emGuarde", "price": 1134, "currency": "GBP"}
            ],
            "taxRates": [
                {"region": "N/A", "rate": 0.20}
            ],
            "shipping": [
                {"region": "N/A", "products": ["K8"], "cost": 47.88},
                {"region": "N/A", "products": ["Anespa"], "cost": 39.48},
                {"region": "N/A", "products": ["Ukon DD"], "cost": 25.20},
                {"region": "N/A", "products": ["emGuarde"], "cost": 25.20}
            ]
        }
    }
}
